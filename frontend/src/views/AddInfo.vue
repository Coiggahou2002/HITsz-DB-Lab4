<template>
  <section class="select-none">
    <div class=" mb-8 text-xl">ğŸ± æ–°çŒ«å»ºæ¡£</div>
    <section>
     <el-form :model="form" label-width="120px" style="max-width: 600px">
        <el-form-item label="æ˜µç§°">
          <el-input v-model="form.name" placeholder="æ¯”å¦‚çŒ«çˆ·..." />
        </el-form-item>
        <el-form-item label="å“ç§">
          <el-select v-model="form.typeId" placeholder="é€‰æ‹©çŒ«çš„å“ç§">
            <el-option v-for="type in catTypes" :key="type.name" :label="type.name"
            :value="type.id"/>
          </el-select>
        </el-form-item>
        <el-form-item label="é¢œè‰²">
          <el-select v-model="form.colorId" placeholder="é»‘çŒ«ç™½çŒ«éƒ½æ˜¯å¥½çŒ«~">
            <el-option v-for="color in catColors" :key="color.name" :label="color.name"
            :value="color.id"/>
          </el-select>
        </el-form-item>
        <el-form-item label="æ€§æ ¼">
          <el-select v-model="form.characterId" placeholder="ä½ çš„çŒ«å–œæ¬¢å‘è„¾æ°”ä¸?">
            <el-option v-for="character in catCharacters" :key="character.name" :label="character.name"
            :value="character.id"/>
          </el-select>
        </el-form-item>
        <el-form-item label="å¸¸å‡ºæ²¡çš„ä½ç½®">
          <el-select v-model="form.aroundLocationId" placeholder="é€‰æ‹©æ‰“å¡åœ°ç‚¹">
            <el-option v-for="location in aroundLocations" :key="location.name" :label="location.name"
                       :value="location.id"/>
          </el-select>
        </el-form-item>
        <el-form-item>
          <el-button type="warning" @click="onSubmit">å®Œæˆå»ºæ¡£</el-button>
        </el-form-item>
      </el-form>
    </section>
  </section>
</template>

<script>
import {addCat} from "@/api/myapi.js";

export default {
  name: "AddInfo",
  computed: {
    catTypes() {
      return this.$store.state.catTypes;
    },
    catColors() {
      return this.$store.state.colors;
    },
    catCharacters() {
      return this.$store.state.characters;
    },
    aroundLocations() {
      return this.$store.state.locations;
    },
  },
  methods: {
    async onSubmit() {
      await addCat({...this.form})
    }
  },
  data() {
    return {
      name: "Coiggahou2002",
      form: {
        name: "",
        colorId: "",
        characterId: '',
        aroundLocationId: '',
        typeId: '',
      },
    };
  },
};
</script>
